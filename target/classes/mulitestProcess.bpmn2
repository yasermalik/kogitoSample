<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_XW5PMHTPEDmb8cLyDnoh8A" exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_number_of_thingsItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_my_collectionItem" structureRef="org.acme.myList"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_PriorityInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_CommentInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_DescriptionInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_CreatedByInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_GroupIdInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_ContentInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_NotStartedReassignInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_NotCompletedReassignInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_NotStartedNotifyInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_NotCompletedNotifyInputXItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_multiInstanceItemType_thing" structureRef="String"/>
  <bpmn2:process id="mulitestProcess" drools:packageName="org.acme" drools:version="1.0" drools:adHoc="false" name="mulitestProcess" isExecutable="true" processType="Public">
    <bpmn2:property id="number_of_things" itemSubjectRef="_number_of_thingsItem" name="number_of_things"/>
    <bpmn2:property id="my_collection" itemSubjectRef="_my_collectionItem" name="my_collection">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:sequenceFlow id="_77D4D1DA-CAE2-497A-8834-CD8B5FBE0C5B" sourceRef="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835" targetRef="_63D9DF49-DCB8-450B-9DD2-784BEE4D3CCF">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_C08A761E-1FEB-49A5-AA1F-94A549A88168" sourceRef="_1CB69408-4A41-448A-82E4-27A02DEBF902" targetRef="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_DDD10D6D-C1B3-40B9-994A-640337158093" sourceRef="_8DD74CF0-9508-4307-B373-5A798B421205" targetRef="_1CB69408-4A41-448A-82E4-27A02DEBF902">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.source">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:endEvent id="_63D9DF49-DCB8-450B-9DD2-784BEE4D3CCF">
      <bpmn2:incoming>_77D4D1DA-CAE2-497A-8834-CD8B5FBE0C5B</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:userTask id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835" name="Do Thing">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Do Thing]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_C08A761E-1FEB-49A5-AA1F-94A549A88168</bpmn2:incoming>
      <bpmn2:outgoing>_77D4D1DA-CAE2-497A-8834-CD8B5FBE0C5B</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputX" drools:dtype="Object" itemSubjectRef="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputXItem" name="TaskName"/>
        <bpmn2:dataInput id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputX" drools:dtype="Object" itemSubjectRef="__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputXItem" name="Skippable"/>
        <bpmn2:dataInput id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_IN_COLLECTIONInputX" itemSubjectRef="_my_collectionItem" name="IN_COLLECTION"/>
        <bpmn2:dataInput id="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_thingInputX" itemSubjectRef="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_multiInstanceItemType_thing" name="thing"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_IN_COLLECTIONInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_thingInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet/>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[Task]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[false]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_SkippableInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>my_collection</bpmn2:sourceRef>
        <bpmn2:targetRef>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_IN_COLLECTIONInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>thing</bpmn2:sourceRef>
        <bpmn2:targetRef>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_thingInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:multiInstanceLoopCharacteristics>
        <bpmn2:loopDataInputRef>_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_IN_COLLECTIONInputX</bpmn2:loopDataInputRef>
        <bpmn2:inputDataItem id="thing" itemSubjectRef="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835_multiInstanceItemType_thing" name="thing"/>
      </bpmn2:multiInstanceLoopCharacteristics>
    </bpmn2:userTask>
    <bpmn2:scriptTask id="_1CB69408-4A41-448A-82E4-27A02DEBF902" name="Prepare List" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Prepare List]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_DDD10D6D-C1B3-40B9-994A-640337158093</bpmn2:incoming>
      <bpmn2:outgoing>_C08A761E-1FEB-49A5-AA1F-94A549A88168</bpmn2:outgoing>
      <bpmn2:script>// create collection of things
//
java.util.List my_collection_tmp = new org.acme.myList();
kcontext.setVariable("my_collection",my_collection_tmp);

for (int i = number_of_things; i &gt; 0; i = i-1)
{
  my_collection_tmp.add(String.valueOf(i));
}
</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:startEvent id="_8DD74CF0-9508-4307-B373-5A798B421205">
      <bpmn2:outgoing>_DDD10D6D-C1B3-40B9-994A-640337158093</bpmn2:outgoing>
    </bpmn2:startEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="mulitestProcess">
      <bpmndi:BPMNShape id="shape__8DD74CF0-9508-4307-B373-5A798B421205" bpmnElement="_8DD74CF0-9508-4307-B373-5A798B421205">
        <dc:Bounds height="56" width="56" x="124" y="126"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__1CB69408-4A41-448A-82E4-27A02DEBF902" bpmnElement="_1CB69408-4A41-448A-82E4-27A02DEBF902">
        <dc:Bounds height="102" width="154" x="260" y="103"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__3B3A8D0A-53F1-432C-BCAC-51BBD4773835" bpmnElement="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835">
        <dc:Bounds height="102" width="154" x="494" y="103"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__63D9DF49-DCB8-450B-9DD2-784BEE4D3CCF" bpmnElement="_63D9DF49-DCB8-450B-9DD2-784BEE4D3CCF">
        <dc:Bounds height="56" width="56" x="728" y="126"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__8DD74CF0-9508-4307-B373-5A798B421205_to_shape__1CB69408-4A41-448A-82E4-27A02DEBF902" bpmnElement="_DDD10D6D-C1B3-40B9-994A-640337158093">
        <di:waypoint x="180" y="154"/>
        <di:waypoint x="260" y="154"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__1CB69408-4A41-448A-82E4-27A02DEBF902_to_shape__3B3A8D0A-53F1-432C-BCAC-51BBD4773835" bpmnElement="_C08A761E-1FEB-49A5-AA1F-94A549A88168">
        <di:waypoint x="414" y="154"/>
        <di:waypoint x="494" y="154"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__3B3A8D0A-53F1-432C-BCAC-51BBD4773835_to_shape__63D9DF49-DCB8-450B-9DD2-784BEE4D3CCF" bpmnElement="_77D4D1DA-CAE2-497A-8834-CD8B5FBE0C5B">
        <di:waypoint x="648" y="154"/>
        <di:waypoint x="728" y="154"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters/>
          <bpsim:ElementParameters elementRef="_8DD74CF0-9508-4307-B373-5A798B421205">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_1CB69408-4A41-448A-82E4-27A02DEBF902">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_3B3A8D0A-53F1-432C-BCAC-51BBD4773835">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_XW5PMHTPEDmb8cLyDnoh8A</bpmn2:source>
    <bpmn2:target>_XW5PMHTPEDmb8cLyDnoh8A</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>